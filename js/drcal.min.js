!function(){function e(e,t,n){if(window.CustomEvent)var a=new CustomEvent(e,{detail:n});else{var a=document.createEvent("CustomEvent");a.initCustomEvent(e,!0,!0,n)}t.dispatchEvent(a)}function t(e){var t=e.toString();return new Array(3-t.length).join("0")+t}function n(e){return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}function a(t,a,r){for(var d=t,o=document.createElement("tr"),i=1;7>=i;i++){var l=document.createElement("td");l.setAttribute("date",n(d)),l.setAttribute("year",d.getFullYear()),l.setAttribute("month",d.getMonth()+1),l.setAttribute("day",d.getDate()+r),o.appendChild(l),e("drcal.renderDay",a,{element:l,date:d}),d=new Date(d.getTime()+864e5)}return o}window.drcal=function(t){var r=void 0!==t&&"weekdays"in t?t.weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=void 0!==t&&"months"in t?t.months:["January","February","March","April","May","June","July","August","September","October","November","December"],o=void 0!==t&&"startDay"in t?t.startDay:0,i=[],l=document.createElement("button");l.className="prev";var c=document.createElement("button");c.className="next";var u=document.createElement("span");u.className="monthyear";var h=document.createElement("th");h.colSpan=7,h.appendChild(l),h.appendChild(u),h.appendChild(c);for(var m=document.createElement("tr"),s=0;s<r.length;s++){var g=document.createElement("th");g.appendChild(document.createTextNode(r[(s+o)%r.length])),m.appendChild(g)}var v=document.createElement("table");v.className="calendar",v.createTHead().insertRow().appendChild(h),v.createTHead().appendChild(m);var p=document.createElement("tbody");return v.appendChild(p),v.year=function(){return v.getAttribute("year")?parseInt(v.getAttribute("year"),10):null},v.month=function(){return v.getAttribute("month")?parseInt(v.getAttribute("month"),10):null},v.findCell=function(e){return v.querySelector('[date="'+n(e)+'"]')},v.changeMonth=function(t){for(var r=new Date(t.getFullYear(),t.getMonth(),1),l=new Date(r.getTime()-864e5*(r.getDay()-o)),c=l,h=new Date,m=new Date(h.getFullYear(),h.getMonth(),h.getDate()),s=t.getFullYear(),g=t.getMonth();p.firstChild;)p.removeChild(p.firstChild);do{var y=i[n(c)];y||(y=a(c,v,o),i[n(c)]=y);for(var f=0;f<y.children.length;f++)y.children[f].className=y.children[f].getAttribute("month")==g+1?"current":"extra",y.children[f].className+=y.children[f].getAttribute("date")===n(m)?" today":"";v.tBodies[0].appendChild(y),c=new Date(c.getTime()+6048e5)}while(c.getMonth()===t.getMonth());for(v.setAttribute("year",s),v.setAttribute("month",g+1);u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(d[g]+" "+s)),e("drcal.monthChange",v,{})},l.addEventListener("click",function(){v.changeMonth(new Date(v.year()-(1===v.month()?1:0),1===v.month()?11:v.month()-2,1))}),c.addEventListener("click",function(){v.changeMonth(new Date(v.year()+(12===v.month()?1:0),12===v.month()?0:v.month(),1))}),v}}();