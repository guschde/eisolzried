"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function setTheme(e){var t,n,r;"light"==e?(t="dark",n="sun",r="/css/dark-theme.min.css"):(t="light",n="moon",r=""),document.getElementById("theme-link").href=r,document.getElementById("theme-icon").className="icon-"+n,localStorage.setItem("theme",t)}function findResults(e,t){return t.filter(function(t){var n=new RegExp(e,"gi");return t.title.match(n)||t.content.match(n)})}function displayResults(){var e=findResults(this.value,pages),t=e.map(function(e){return'\n            <li><a href="'+e.url+'">'+e.title+"</a></li>"}).join("");0==e.length||""==this.value?resultsList.innerHTML="<p>Nix gfunna!</p>":resultsList.innerHTML=t}var path=window.location.pathname,langBtn=document.getElementById("language-btn"),langImg=document.getElementById("flag-img");-1===path.indexOf("/by/")?(langImg.src="/assets/by.png",langImg.alt="Flagge Bayern",langBtn.onclick=function(){window.location="/by".concat(path)}):(langImg.src="/assets/de.png",langImg.alt="Flagge Deutschland",langBtn.onclick=function(){window.location=path.replace("/by","")}),"dark"==localStorage.getItem("theme")?setTheme("light"):localStorage.setItem("theme","light"),document.getElementById("theme-switch").onclick=function(){setTheme(localStorage.getItem("theme"))};var els=document.querySelectorAll(".lazy");if(els.length>0){var i,observer;!function(){var e=function(e){e.src=e.dataset.src,e.removeAttribute("data-src")},t=function(e){e.classList.add("loaded")},n=function(n){if("VIDEO"==n.nodeName){for(var r=n.getElementsByTagName("source"),a=0;a<r.length;a++)e(r[a]);n.load(),n.onloadstart=function(){t(n)}}else e(n),n.onload=function(){t(n)}};if("IntersectionObserver"in window){var r=function(e){e.forEach(function(e){("boolean"==typeof e.isIntersecting?e.isIntersecting:e.intersectionRect.height>0)&&(n(e.target),observer.unobserve(e.target))})};observer=new IntersectionObserver(r,{threshold:.5}),els.forEach(function(e){return observer.observe(e)})}else for(console.log("Intersection Observer not supported"),i=0;i<els.length;i++)n(els[i])}()}$(".gallery a").simpleLightbox();var endpoint="/assets/search.json",pages=[];fetch(endpoint).then(function(e){return e.json()}).then(function(e){return pages.push.apply(pages,_toConsumableArray(e))});var field=document.querySelector("#search-input"),resultsList=document.querySelector("#results-container");field.addEventListener("keyup",displayResults),field.addEventListener("keypress",function(e){13==e.keyCode&&e.preventDefault()}),document.getElementById("siren-btn").onclick=function(){var e,t=document.getElementById("siren-player");t.paused?(0==t.readyState&&t.load(),t.play(),e="volume-off"):(t.pause(),e="volume-up"),document.getElementById("siren-icon").className="icon-"+e};