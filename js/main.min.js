"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function setTheme(a){var b,c,d;"light"==a?(b="dark",c="sun",d="/css/dark-theme.min.css"):(b="light",c="moon",d=""),document.getElementById("theme-link").href=d,document.getElementById("theme-icon").className="icon-"+c,localStorage.setItem("theme",b)}function findResults(a,b){return b.filter(function(b){var c=new RegExp(a,"gi");return b.title.match(c)||b.content.match(c)})}function displayResults(){var a=findResults(this.value,pages),b=a.map(function(a){return'\n            <li><a href="'+a.url+'">'+a.title+"</a></li>"}).join("");0==a.length||""==this.value?resultsList.innerHTML="<p>Nix gfunna!</p>":resultsList.innerHTML=b}var path=window.location.pathname,langBtn=document.getElementById("language-btn"),langImg=document.getElementById("flag-img");-1===path.indexOf("/by/")?(langImg.src="/assets/by.png",langImg.alt="Flagge Bayern",langBtn.onclick=function(){window.location="/by".concat(path)}):(langImg.src="/assets/de.png",langImg.alt="Flagge Deutschland",langBtn.onclick=function(){window.location=path.replace("/by","")}),"dark"==localStorage.getItem("theme")?setTheme("light"):localStorage.setItem("theme","light"),document.getElementById("theme-switch").onclick=function(){setTheme(localStorage.getItem("theme"))};var els=document.querySelectorAll(".lazy");if(els.length>0){var i,observer;!function(){var a=function(b){b.src=b.dataset.src,b.removeAttribute("data-src")},b=function(b){b.classList.add("loaded")},c=function(d){if("VIDEO"==d.nodeName){for(var e=d.getElementsByTagName("source"),f=0;f<e.length;f++)a(e[f]);d.load(),d.onloadstart=function(){b(d)}}else a(d),d.onload=function(){b(d)}};if("IntersectionObserver"in window){var d=function(b){b.forEach(function(a){a.isIntersecting&&(c(a.target),observer.unobserve(a.target),console.log("lazy loaded element"))})};observer=new IntersectionObserver(d,{threshold:.5}),els.forEach(function(a){return observer.observe(a)})}else for(console.log("Intersection Observer not supported"),i=0;i<els.length;i++)c(els[i])}()}$(".gallery a").simpleLightbox();var endpoint="/assets/search.json",pages=[];fetch(endpoint).then(function(a){return a.json()}).then(function(a){return pages.push.apply(pages,_toConsumableArray(a))});var field=document.querySelector("#search-input"),resultsList=document.querySelector("#results-container");field.addEventListener("keyup",displayResults),field.addEventListener("keypress",function(a){13==a.keyCode&&a.preventDefault()}),document.getElementById("siren-btn").onclick=function(){var b,a=document.getElementById("siren-player");a.paused?(0==a.readyState&&a.load(),a.play(),b="volume-off"):(a.pause(),b="volume-up"),document.getElementById("siren-icon").className="icon-"+b};